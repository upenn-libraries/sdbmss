<h1>History of changes to <%= @name.public_id %></h1>

<% versions = @name.versions %>
<% if versions.count > 0 || legacy.count > 0 %>
<table class="table">
    <thead>
        <tr>
            <th width="15%">Date</th>
            <th width="15%">User</th>
            <th width="20%">Action</th>
            <th width="25%">Details</th>
            <th width="15%"></th>
            <th width="10%"></th>
        </tr>
    </thead>
    <tbody>
        <% versions.each do |version| %>
        <tr>
            <td><%= version.created_at.to_formatted_s(:date_and_time) %></td>
            <td><%= version.event.capitalize %></td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
            <% version.changeset.each do |field, value| %>
            <tr>
                <td></td>
                <td><%= field %></td>
                <td></td>
                <td><%= value[0] %></td>
                <td><%= value[1] %></td>
            </tr>
            <% end %>
        <% end %>
    </tbody>
</table>
<% else %>
<p>There is no history to display for this entry.</p>
<% end %>