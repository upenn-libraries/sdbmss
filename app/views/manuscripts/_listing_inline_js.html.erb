<script type="text/javascript">

 $(document).ready(function() {

     var resourceName = "<%= resource_name %>";

     // flag = show all records, or only those that the user created
     <% if can? :manage, model_class  %>
     var showOnlyRecordsCreatedByUser = 0;
     <% else %>
     var showOnlyRecordsCreatedByUser = 1;
     <% end %>

     // Subclass of SDBM.ManageRecords tailored for display of mss
     var ManageManuscripts = function(options) {
         SDBM.ManageRecords.call(this, options);
     };
     
     ManageManuscripts.prototype = Object.create(SDBM.ManageRecords.prototype);

     ManageManuscripts.prototype.getButtonTextForAddNewRecord = function () {
         return null;
     };

     new ManageManuscripts({
         resourceName: "<%= resource_name %>",
         resourceNameSingular: "<%= resource_name.singularize %>",
         resourceNamePlural: "<%= resource_name.pluralize %>",
         showOnlyRecordsCreatedByUser: showOnlyRecordsCreatedByUser,
         searchNameField: "name"
     });

 });

</script>

