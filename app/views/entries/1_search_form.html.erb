<!-- 

    DEPRECATED:: using universal search form now? 

-->


<!-- need to move this over... -->
<ul class="nav navbar-nav navbar-left">
    <li>
        <% if can? :manage, model_class %>
            <label>
                <%= check_box_tag :unapproved_only, 1, params[:unapproved_only] %> Limit to records needing approval
            </label>
        <% end %>
    </li>
</ul>

<div class="navbar-right">

<ul class="nav navbar-nav pull-left">
    <li>
        <a href="" class="" id="addSearch">
            <span class="glyphicon glyphicon-plus"></span> add term
        </a>
    </li>
</ul>
<ul>
<%- prepopulated_search_fields_for_advanced_search(1, is_numeric: false).each do |fieldstruct| %>
    <% fieldstruct.fields.sort.each do |key, field_def| -%>
        <li><%= key %>,<%= field_def.label %></li>
    <% end %>
    <% break %>
<%- end -%>
<%- prepopulated_search_fields_for_advanced_search(1, is_numeric: true).each do |fieldstruct| -%>
    <% fieldstruct.fields.sort.each do |key, field_def| -%>
        <li><%= key %>, <%= field_def.label %></li>
    <% end %>
    <% break %>
<%- end -%>
</ul>
<div class='search-form form-inline search-fieldset pull-left navbar-form'>
    <div class="input-group search-block">
        <div class="input-group-btn">
            <button type='button' class="btn btn-warning search-remove"> <span class="glyphicon glyphicon-remove"></span> </button>
        </div>
        <%= text_field_tag :search_value, params[:search_value], size: 18, placeholder: "Enter your search term...", class: "form-control" %>
        <select class="form-control" name="search_field">
        <%- prepopulated_search_fields_for_advanced_search(1, is_numeric: false).each do |fieldstruct| %>
            <% fieldstruct.fields.sort.each do |key, field_def| -%>
                <option type="field" value="<%= key %>"><%= field_def.label %></option>
            <% end %>
            <% break %>
        <%- end -%>
        <%- prepopulated_search_fields_for_advanced_search(1, is_numeric: true).each do |fieldstruct| -%>
            <% fieldstruct.fields.sort.each do |key, field_def| -%>
                <option type="filter" value="<%= key %>"><%= field_def.label %></option>
            <% end %>
            <% break %>
        <%- end -%>
        </select>
    
        <select class="form-control" name="search_option">
        <% Array(@filter_options).each do |option| %>
            <option value="<%= option %>" class="option filter_option">
                <% if option == 'with' %>
                    <%= "Equals" %>
                <% elsif option == 'without' %>
                    <%= "Does Not Equal" %>
                <% else %>
                    <%= option.humanize %>
                <% end %>
            </option>
        <% end %>
        <% Array(@field_options).each do |option| %>
            <option value="<%= option %>" class="option field_option"><%= option.humanize %></option>
        <% end %>
        <% Array(@date_options).each do |option| %>
            <option value="<%= option %>" class="option date_option"><%= option.humanize %></option>
        <% end %>
        </select>
    </div>
</div>

<div class="form-inline pull-left navbar-form">
    <div class="input-group form-submission">
        <select name="op" id="search_op" class="form-control">
            <option value="AND">All</option>
            <option value="OR">Any</option>
        </select>
        <div class="input-group-btn">
            <button id="search_submit" type="submit" class="btn btn-primary">Search</button>
        </div>
    </div>
</div>

</div>